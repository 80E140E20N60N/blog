(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{533:function(s,t,a){"use strict";a.r(t);var n=a(23),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"同步异步以及定时器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#同步异步以及定时器"}},[s._v("#")]),s._v(" 同步异步以及定时器")]),s._v(" "),a("h2",{attrs:{id:"什么是同步和异步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是同步和异步"}},[s._v("#")]),s._v(" 什么是同步和异步")]),s._v(" "),a("ol",[a("li",[s._v("同步：代码是一行一行执行的，一行完成了才会跳到下一行。")]),s._v(" "),a("li",[s._v("异步：某一行代码还没完成，我们可以让它执行着先，但我们可以开始下一行。也就实现了我们所谓的并行。")])]),s._v(" "),a("p",[s._v("同步与异步各有优点，同步可以保证执行的顺序，异步可以保证程序的非阻塞。")]),s._v(" "),a("h2",{attrs:{id:"如何理解js是单线程的以及单线程js如何实现异步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何理解js是单线程的以及单线程js如何实现异步"}},[s._v("#")]),s._v(" 如何理解JS是单线程的以及单线程JS如何实现异步？")]),s._v(" "),a("ol",[a("li",[s._v("进程与线程"),a("br"),s._v(" "),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/80E140E20N60N/img/%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B.png",alt:"进程与线程"}})]),s._v(" "),a("li",[s._v("JS运行时环境"),a("br"),s._v("\n即JS代码运行的环境，在浏览器和Node里都有，以浏览器为例，浏览器是一个多进程的架构。")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/80E140E20N60N/img/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%A4%9A%E8%BF%9B%E7%A8%8B%E6%9E%B6%E6%9E%84.png",alt:"浏览器多进程架构"}})]),s._v(" "),a("p",[s._v("其中主要关注渲染进程\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/80E140E20N60N/img/%E6%B8%B2%E6%9F%93%E8%BF%9B%E7%A8%8B.png",alt:"渲染进程"}})]),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[s._v("JS引擎"),a("br"),s._v("\n在一个JS运行时环境中，JS 代码只在一个线程中执行（浏览器渲染进程的JS引擎线程）， 所以说JS是单线程的。")])]),s._v(" "),a("p",[s._v("注：语言本身没有单线程多线程之分，是因为解释这个语言的引擎是单线程的。")]),s._v(" "),a("p",[s._v("浏览器环境上，单线程的js通过浏览器内核多线程实现异步。")]),s._v(" "),a("h2",{attrs:{id:"前端异步场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端异步场景"}},[s._v("#")]),s._v(" 前端异步场景")]),s._v(" "),a("ol",[a("li",[s._v("定时器")]),s._v(" "),a("li",[s._v("网络请求")]),s._v(" "),a("li",[s._v("时间绑定")]),s._v(" "),a("li",[s._v("ES6 Promise")])]),s._v(" "),a("h2",{attrs:{id:"定时器执行原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定时器执行原理"}},[s._v("#")]),s._v(" 定时器执行原理")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/80E140E20N60N/img/%E5%AE%9A%E6%97%B6%E5%99%A8.png",alt:"定时器原理"}})]),s._v(" "),a("ol",[a("li",[s._v("定时任务可能不会按时执行")])]),s._v(" "),a("p",[s._v("定时任务是要等同步任务执行完毕后才去执行，加入同步任务耗时很久，那么定时任务就会出现不能按时执行的情况，例下：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("delay")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("second")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" t "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("t"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v("second"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//5秒后打印")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("delay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);